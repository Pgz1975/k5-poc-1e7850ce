# Manual Content Creation Updates Specification - SIMPLIFIED POC VERSION
## Based on Kinder_Ani.md Requirements and OpenAI Realtime Voice Integration

---

## Executive Summary

This document outlines the **simplified, implementable-in-hours** updates to the manual content creation process to support Coqu√≠-themed lessons following Kinder_Ani.md patterns, with full OpenAI Realtime Voice autonomy.

---

## 1. Database Schema Updates - SIMPLIFIED

### 1.1 Minimal Column Additions (Required Changes Only)

```sql
-- Add only essential columns to manual_assessments table
ALTER TABLE manual_assessments ADD COLUMN IF NOT EXISTS
  activity_template TEXT, -- Template type: 'coqui_escucha', 'coqui_encuentra', etc.
  coqui_dialogue TEXT, -- What Coqu√≠ says throughout the activity
  pronunciation_words TEXT[], -- Words to practice pronunciation
  max_attempts INTEGER DEFAULT 3; -- Adaptive based on performance

-- NO NEW TABLES NEEDED FOR POC
```

### 1.2 Tracking Table for Voice Results

```sql
-- Simple table to store pronunciation assessment results
CREATE TABLE IF NOT EXISTS voice_assessment_results (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  assessment_id UUID REFERENCES manual_assessments(id),
  student_id UUID REFERENCES auth.users(id),
  word_practiced TEXT,
  pronunciation_score INTEGER CHECK (pronunciation_score BETWEEN 1 AND 5), -- 1-5 stars
  attempts INTEGER,
  duration_seconds INTEGER,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

---

## 2. Content Creation Interface Updates - SIMPLE FORM

### 2.1 New Fields for CreateAssessment.tsx

#### Template Selection (Dropdown with Two Categories)

**Generic Templates (Flexible for any content):**
1. **"Coqu√≠ escucha y habla"** - Listen and speak with Coqu√≠
2. **"Coqu√≠ encuentra el sonido"** - Coqu√≠ finds the sound
3. **"Coqu√≠ une los sonidos"** - Connect sounds with Coqu√≠
4. **"Rima con Coqu√≠"** - Rhyme with Coqu√≠
5. **"Las vocales de Coqu√≠"** - Coqu√≠'s vowels

**Curriculum Templates (Pre-filled with Ani Espa√±ol content):**
6. **"Conciencia Fon√©mica - Sonido /s/"** - Initial sound practice with Puerto Rican words
7. **"Segmentaci√≥n de S√≠labas"** - Syllable clapping with local animals
8. **"Vocales del Yunque"** - Vowels with rainforest vocabulary
9. **"Rimas Tropicales"** - Rhyming with island words
10. **"Fluidez Lectora PR"** - Reading fluency about Puerto Rico
11. **"Profesiones Boricuas"** - Puerto Rican professions vocabulary
12. **"Ciclo del Coqu√≠"** - Comprehension about coqu√≠ life cycle

#### Simple Form Fields

```typescript
// Simplified form structure
interface SimplifiedAssessmentForm {
  // Basic
  activity_template: string; // Dropdown selection
  title: string;

  // Coqu√≠'s dialogue (simple textarea with section markers)
  coqui_dialogue: string; // "SECTION 1: Hola...\nSECTION 2: Ahora..."

  // Words to practice (one per line in textarea)
  pronunciation_words: string; // "sol\nsapo\nserpiente"

  // Existing fields remain unchanged
  content: {
    question: string;
    answers: Answer[];
  };
}
```

#### How Sections Work (Simple)
```
Teacher enters in voice_guidance field:
"SECTION 1: ¬°Hola! Soy Coqu√≠. Vamos a practicar el sonido /s/.
SECTION 2: Escucha y repite: sol, sapo.
SECTION 3: ¬°Muy bien! Lo hiciste excelente."

This correlates with content.answers array by index:
- SECTION 1 = Introduction (before answers)
- SECTION 2 = content.answers[0]
- SECTION 3 = content.answers[1] etc.
```

---

## 3. OpenAI Realtime Voice API Integration - FULL AUTONOMY

### 3.1 Updated System Instructions for Coqu√≠ - Based on Ani Espa√±ol Curriculum

```typescript
// Enhancement to existing edge function (line 165)
const enhancedInstructions = `
${existingInstructions}

PRONUNCIATION ASSESSMENT - Basado en R√∫brica de Ani Espa√±ol:
8. Eval√∫a la pronunciaci√≥n en escala de 1-5 estrellas usando estos criterios:
   - 5 estrellas (100%): Pronunciaci√≥n perfecta con acento puertorrique√±o natural, fluidez excelente
   - 4 estrellas (90%): Pronunciaci√≥n muy buena, m√≠nimos errores que no afectan comprensi√≥n
   - 3 estrellas (80%): Pronunciaci√≥n aceptable, algunos errores pero comprensible
   - 2 estrellas (70%): Necesita pr√°ctica, varios errores que dificultan comprensi√≥n
   - 1 estrella (60%): Intento valorado, requiere apoyo adicional

9. SIEMPRE da al menos 1 estrella por el intento y valor del esfuerzo

10. Ajusta autom√°ticamente seg√∫n el desempe√±o (Scaffolding adaptativo):
    - Si obtiene 4-5 estrellas: avanza al siguiente nivel de dificultad
    - Si obtiene 3 estrellas: ofrece 1 intento m√°s con modelado
    - Si obtiene 1-2 estrellas: proporciona hasta 3 intentos con apoyo intensivo

11. Para actividades espec√≠ficas, aplica estos criterios de √©xito:
    - Conciencia Fon√©mica: ‚â•80% precisi√≥n identificando sonidos
    - Fon√©tica/Vocales: ‚â•90% precisi√≥n en reconocimiento
    - Rimas: ‚â•75% identificaci√≥n correcta de pares
    - Fluidez: Dentro del rango WPM para el grado
    - Vocabulario: ‚â•80% comprensi√≥n contextual
    - Comprensi√≥n: ‚â•75% respuestas correctas

ACTIVITY GUIDANCE con Progresi√≥n de Ani:
- Sigue la secuencia: Fon√©mica ‚Üí Fon√©tica ‚Üí Fluidez ‚Üí Vocabulario ‚Üí Comprensi√≥n
- Lee las secciones SECTION 1, 2, etc. en orden
- Usa vocabulario culturalmente relevante de Puerto Rico
- Integra referencias locales (El Yunque, playas, comida t√≠pica)
- Mant√©n el tono de Coqu√≠ siempre positivo y alentador
- Celebra el progreso con frases como "¬°Qu√© orgullo!" "¬°Como un verdadero boricua!"
`;
```

### 3.2 OpenAI Handles Everything

OpenAI Realtime will autonomously:
1. **Generate** correct pronunciations dynamically
2. **Evaluate** student responses without external references
3. **Return** pronunciation score (1-5 stars) in response
4. **Adapt** difficulty based on performance
5. **Provide** contextual feedback in Coqu√≠'s voice

### 3.3 Visual Display and Storage

```typescript
// When OpenAI returns a score:
const handlePronunciationResult = async (score: number, word: string) => {
  // 1. DISPLAY stars visually in UI
  showStarsInUI(score); // ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ appears on screen

  // 2. SAVE to database for tracking
  await supabase.from('voice_assessment_results').insert({
    assessment_id: currentAssessmentId,
    student_id: userId,
    word_practiced: word,
    pronunciation_score: score, // 1-5 stars
    attempts: attemptNumber,
    duration_seconds: elapsedTime
  });

  // 3. UPDATE UI with encouragement
  showEncouragement(score); // "¬°Muy bien!" text appears
  animateCoqui(score); // Coqu√≠ reacts happily
};
```

**Student sees on screen:**
- ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (visual stars)
- "¬°Muy bien!" (encouragement text)
- Coqu√≠ animation (happy/encouraging)
- Progress bar updates

**Data stored for teachers:**
- Each attempt with score
- Average scores per word
- Progress over time
- All tracked in `voice_assessment_results` table

---

## 4. Activity Templates - Generic and Curriculum-Based

### Section A: Generic Templates (Quick Start for Teachers)

#### A.1 Template: "Coqu√≠ escucha y habla" (Generic Listen and Speak)
```
Title: Practica el sonido [___]
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola! Soy Coqu√≠. Hoy vamos a practicar el sonido [___].
SECTION 2: Escucha y repite despu√©s de m√≠.
SECTION 3: ¬°Qu√© bien lo haces! Sigamos practicando."

Words to Practice: [Teacher adds words, one per line]
```

#### A.2 Template: "Coqu√≠ encuentra el sonido" (Generic Find the Sound)
```
Title: Encuentra el sonido [___]
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola amiguito! Vamos a buscar el sonido [___].
SECTION 2: ¬øEscuchas este sonido en estas palabras?
SECTION 3: ¬°Excelente! Encontraste todos los sonidos."

Words to Practice: [Teacher adds words]
```

#### A.3 Template: "Coqu√≠ une los sonidos" (Generic Connect Sounds)
```
Title: Une los sonidos con Coqu√≠
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola! Vamos a unir sonidos para formar palabras.
SECTION 2: Escucha c√≥mo uno estos sonidos.
SECTION 3: Ahora int√©ntalo t√∫."

Words to Practice: [Teacher adds words]
```

#### A.4 Template: "Rima con Coqu√≠" (Generic Rhyming)
```
Title: Rimas con Coqu√≠
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola! Vamos a jugar con rimas.
SECTION 2: Estas palabras riman. ¬øEscuchas c√≥mo suenan igual al final?
SECTION 3: ¬°Muy bien! Eres un experto en rimas."

Words to Practice: [Teacher adds rhyming pairs]
```

#### A.5 Template: "Las vocales de Coqu√≠" (Generic Vowels)
```
Title: Las vocales con Coqu√≠
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola amiguito! Soy Coqu√≠ y hoy aprenderemos las vocales.
SECTION 2: Escucha cada vocal: a, e, i, o, u.
SECTION 3: ¬°Excelente! Las vocales son muy importantes para leer."

Words to Practice: [Teacher adds words with target vowels]
```

### Section B: Curriculum-Based Templates from "Ani Espa√±ol Primer Grado"

#### B.1 Template: "Conciencia Fon√©mica con Coqu√≠" (Phonemic Awareness)

##### B.1.1 Sonidos Iniciales (Initial Sounds)
```
Title: Identificando el Sonido /s/ con Coqu√≠
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola! Soy Coqu√≠ del bosque de El Yunque. Hoy vamos a descubrir palabras que comienzan con el sonido /s/.
SECTION 2: Escucha estas palabras de Puerto Rico: sol, sapo, serpiente. ¬øEscuchas el sonido /s/ al principio?
SECTION 3: Ahora repite despu√©s de m√≠: sss-sol, sss-sapo, sss-serpiente.
SECTION 4: ¬°Excelente! El sonido /s/ suena como una serpiente: ssssss."

Words to Practice:
sol (como el sol brillante de Borinquen)
sapo (amigo de Coqu√≠)
serpiente
silla
sopa

Success Metric: ‚â•80% accuracy identifying initial /s/ sound
```

##### B.1.2 Segmentaci√≥n de S√≠labas (Syllable Segmentation)
```
Title: Separando S√≠labas con Coqu√≠
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola amiguito! Vamos a aplaudir las s√≠labas de palabras puertorrique√±as.
SECTION 2: Escucha: ma-na-t√≠. ¬°Son tres aplausos! Ma üëè na üëè t√≠ üëè
SECTION 3: Ahora t√∫: co-to-rra. ¬øCu√°ntos aplausos das?
SECTION 4: ¬°Muy bien! La cotorra tiene tres s√≠labas: co-to-rra."

Words to Practice:
coqu√≠ (co-qu√≠) - 2 s√≠labas
manat√≠ (ma-na-t√≠) - 3 s√≠labas
cotorra (co-to-rra) - 3 s√≠labas
isla (is-la) - 2 s√≠labas
pl√°tano (pl√°-ta-no) - 3 s√≠labas

Success Metric: ‚â•80% correct syllable counting
```

#### B.2 Template: "Fon√©tica - Las Vocales de Coqu√≠"

```
Title: Las Vocales en el Yunque con Coqu√≠
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola! Soy Coqu√≠. En El Yunque hay cinco vocales m√°gicas: a, e, i, o, u.
SECTION 2: La A est√° en √°rbol y agua. Repite: aaa-√°rbol.
SECTION 3: La E est√° en estrella y El Yunque. Repite: eee-estrella.
SECTION 4: La I est√° en isla e iguana. Repite: iii-isla.
SECTION 5: La O est√° en oso y ola. Repite: ooo-ola.
SECTION 6: La U est√° en uva y yunque. Repite: uuu-uva.
SECTION 7: ¬°Qu√© bien conoces las vocales del bosque!"

Words to Practice:
√°rbol (El Yunque tiene muchos √°rboles)
estrella (se ven desde Cabo Rojo)
isla (Puerto Rico es una isla bella)
ola (las olas de Rinc√≥n)
uva (uva playera)

Success Metric: ‚â•90% vowel identification accuracy
```

#### B.3 Template: "Rimas con Coqu√≠" (Rhyming)

```
Title: Rimas del Bosque Tropical con Coqu√≠
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola! Vamos a jugar con rimas del bosque tropical.
SECTION 2: Escucha: caracol rima con sol. ¬øEscuchas c√≥mo terminan igual? -ol, -ol.
SECTION 3: Ahora t√∫: ¬øQu√© rima con coqu√≠? ¬°S√≠, aqu√≠! Coqu√≠ - aqu√≠.
SECTION 4: ¬øY con mariposa? ¬°Rosa! Mariposa - rosa.
SECTION 5: ¬°Eres un experto en rimas tropicales!"

Words to Practice (Rhyming Pairs):
caracol - sol
rastrillo - cuchillo
coqu√≠ - aqu√≠
mariposa - rosa
pl√°tano - mano
lagartijo - hijo
palmera - primavera

Success Metric: ‚â•75% rhyme identification
```

#### B.4 Template: "Fluidez Lectora con Coqu√≠" (Reading Fluency)

```
Title: Leyendo sobre Puerto Rico con Coqu√≠
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola! Vamos a leer sobre nuestra isla del encanto.
SECTION 2: Lee conmigo: 'El coqu√≠ canta en el √°rbol del mango.'
SECTION 3: Ahora m√°s r√°pido: 'En San Juan vive mi amiga Ana.'
SECTION 4: ¬°Excelente! Tu lectura es clara como el canto del coqu√≠."

Target Reading Rates (Primer Grado):
- Principio del a√±o: 20-30 palabras por minuto
- Mitad del a√±o: 30-40 palabras por minuto
- Final del a√±o: 40-60 palabras por minuto

Practice Sentences:
El sol brilla en la playa.
Mi coqu√≠ salta en la rama.
La cotorra come mang√≥.
En El Yunque llueve mucho.
Me gusta el arroz con habichuelas.

Success Metric: Reading within target WPM range with ‚â•95% accuracy
```

#### B.5 Template: "Vocabulario - Profesiones de Puerto Rico"

```
Title: Profesiones en Nuestra Isla con Coqu√≠
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola! Hoy conoceremos las profesiones de Puerto Rico.
SECTION 2: Un pescador pesca en el mar de Cabo Rojo. Repite: pescador.
SECTION 3: Una maestra ense√±a en la escuela de Ponce. Repite: maestra.
SECTION 4: Un agricultor cultiva caf√© en Yauco. Repite: agricultor.
SECTION 5: ¬°Conoces muchas profesiones importantes!"

Vocabulary Words with Context:
pescador - "El pescador de Aguadilla vende pescado fresco"
maestra - "La maestra ense√±a espa√±ol y matem√°ticas"
agricultor - "El agricultor cultiva pl√°tanos y yaut√≠a"
m√©dico - "El m√©dico trabaja en el hospital San Pablo"
artesano - "El artesano hace m√°scaras de vejigantes"
m√∫sico - "El m√∫sico toca la guitarra y el cuatro"

Success Metric: ‚â•80% vocabulary comprehension
```

#### B.6 Template: "Comprensi√≥n con el Ciclo de Vida del Coqu√≠"

```
Title: El Ciclo de Vida del Coqu√≠
Coqu√≠ Dialogue:
"SECTION 1: ¬°Hola! Soy Coqu√≠ y te contar√© c√≥mo nacemos los coqu√≠es.
SECTION 2: Primero, mam√° coqu√≠ pone huevitos peque√±os en una hoja.
SECTION 3: Los huevitos no van al agua como otras ranas. ¬°Nacemos en la tierra!
SECTION 4: Despu√©s de 17 d√≠as, salimos como coqu√≠es beb√©s, no como renacuajos.
SECTION 5: Crecemos y cantamos: ¬°Co-qu√≠! ¬°Co-qu√≠!
SECTION 6: ¬øQu√© aprendiste sobre mi ciclo de vida?"

Comprehension Questions:
1. ¬øD√≥nde pone los huevos mam√° coqu√≠? (en una hoja)
2. ¬øLos coqu√≠es nacen en el agua? (no, en la tierra)
3. ¬øCu√°ntos d√≠as tardan en nacer? (17 d√≠as)
4. ¬øNacen como renacuajos? (no, como coqu√≠es peque√±os)

Success Metric: ‚â•75% comprehension accuracy
```

---

## 5. Implementation Steps (2-3 Hours)

### Step 1: Database Migration (30 minutes)
```sql
-- Run this migration
ALTER TABLE manual_assessments ADD COLUMN IF NOT EXISTS
  activity_template TEXT,
  coqui_dialogue TEXT,
  pronunciation_words TEXT[],
  max_attempts INTEGER DEFAULT 3;

CREATE TABLE IF NOT EXISTS voice_assessment_results (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  assessment_id UUID REFERENCES manual_assessments(id),
  student_id UUID REFERENCES auth.users(id),
  word_practiced TEXT,
  pronunciation_score INTEGER CHECK (pronunciation_score BETWEEN 1 AND 5),
  attempts INTEGER,
  duration_seconds INTEGER,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

### Step 2: Update CreateAssessment.tsx (1 hour)
1. Add template dropdown with 5 Coqu√≠ options
2. Add Coqu√≠ dialogue textarea
3. Add pronunciation words textarea
4. Auto-fill form when template selected
5. Use existing ImagePasteZone component

### Step 3: Update Edge Function (30 minutes)
Add pronunciation evaluation instructions to line 165 in realtime-voice-relay/index.ts

### Step 4: Simple UI with Existing Components (30 minutes)
- Use existing CoquiMascot component for visual
- Simple CSS animations (bounce, fade)
- No complex drag-drop needed for POC

---

## 6. Simplified UI Mock-up

### 6.1 Teacher's View (CreateAssessment.tsx)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Crear Actividad con Coqu√≠ üê∏         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Tipo de Actividad:                   ‚îÇ
‚îÇ [‚ñº Selecciona...                  ]  ‚îÇ
‚îÇ   ‚Ä¢ Coqu√≠ escucha y habla           ‚îÇ
‚îÇ   ‚Ä¢ Coqu√≠ encuentra el sonido       ‚îÇ
‚îÇ   ‚Ä¢ Coqu√≠ une los sonidos           ‚îÇ
‚îÇ   ‚Ä¢ Rima con Coqu√≠                  ‚îÇ
‚îÇ   ‚Ä¢ Las vocales de Coqu√≠            ‚îÇ
‚îÇ                                      ‚îÇ
‚îÇ T√≠tulo: [_____________________]     ‚îÇ
‚îÇ                                      ‚îÇ
‚îÇ Di√°logo de Coqu√≠:                    ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ ‚îÇSECTION 1: ¬°Hola! Soy Coqu√≠... ‚îÇ    ‚îÇ
‚îÇ ‚îÇSECTION 2: Escucha y repite... ‚îÇ    ‚îÇ
‚îÇ ‚îÇSECTION 3: ¬°Muy bien!...       ‚îÇ    ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                      ‚îÇ
‚îÇ Palabras para Practicar:             ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ ‚îÇsol                            ‚îÇ    ‚îÇ
‚îÇ ‚îÇsapo                           ‚îÇ    ‚îÇ
‚îÇ ‚îÇserpiente                      ‚îÇ    ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                      ‚îÇ
‚îÇ [Pegar Imagen] [Guardar Actividad]   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 6.2 No New Components Needed
- Use existing components
- Templates auto-fill the form
- Simple textareas for input
- Existing image paste functionality

---

## 7. Simple Progress Tracking

### 7.1 Data to Track (Stored in Database)
```typescript
// Stored in voice_assessment_results table
interface VoiceTracking {
  assessment_id: UUID;        // Which activity
  student_id: UUID;          // Which student
  word_practiced: string;    // What word they practiced
  pronunciation_score: number; // 1-5 stars from OpenAI
  attempts: number;          // How many tries
  duration_seconds: number;  // Time spent
  created_at: Date;         // When it happened
}
```

### 7.2 Teacher Dashboard Shows (From Database)
- **Visual star display** for each student (‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ)
- **Words practiced today** with scores
- **Average pronunciation score** (class and individual)
- **Time spent practicing** per session
- **Progress graph** showing improvement over time
- **All data pulled from `voice_assessment_results` table**

---

## 8. Assessment Rubrics and Progression (From Ani Espa√±ol)

### 8.1 Pronunciation Scoring Rubric (1-5 Stars)

| Stars | Score | Criteria | Coqu√≠'s Response |
|-------|-------|----------|------------------|
| ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | 100% | Pronunciaci√≥n perfecta, fluidez natural | "¬°Espectacular! ¬°Hablas como un verdadero boricua!" |
| ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ | 90% | Muy buena, errores m√≠nimos | "¬°Muy bien! Casi perfecto, sigue as√≠." |
| ‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ | 80% | Aceptable, comprensible | "¬°Bien! Vamos a practicar un poco m√°s." |
| ‚≠ê‚≠ê‚òÜ‚òÜ‚òÜ | 70% | Necesita pr√°ctica | "¬°Buen intento! Repitamos juntos." |
| ‚≠ê‚òÜ‚òÜ‚òÜ‚òÜ | 60% | Requiere apoyo | "¬°Me gusta tu esfuerzo! Yo te ayudo." |

### 8.2 Activity Progression Path (Primer Grado)

```
Trimestre 1 (Agosto-Octubre):
‚îú‚îÄ‚îÄ Conciencia Fon√©mica
‚îÇ   ‚îú‚îÄ‚îÄ Sonidos iniciales (/m/, /s/, /p/, /t/)
‚îÇ   ‚îú‚îÄ‚îÄ Sonidos finales
‚îÇ   ‚îî‚îÄ‚îÄ Segmentaci√≥n de s√≠labas (2-3 s√≠labas)
‚îÇ
‚îú‚îÄ‚îÄ Fon√©tica
‚îÇ   ‚îú‚îÄ‚îÄ Vocales (a, e, i, o, u)
‚îÇ   ‚îî‚îÄ‚îÄ Consonantes b√°sicas (m, p, s, l, t)
‚îÇ
‚îî‚îÄ‚îÄ Fluidez
    ‚îî‚îÄ‚îÄ 20-30 palabras por minuto

Trimestre 2 (Noviembre-Enero):
‚îú‚îÄ‚îÄ Conciencia Fon√©mica
‚îÇ   ‚îú‚îÄ‚îÄ Combinaci√≥n de sonidos
‚îÇ   ‚îî‚îÄ‚îÄ Manipulaci√≥n de s√≠labas
‚îÇ
‚îú‚îÄ‚îÄ Fon√©tica
‚îÇ   ‚îú‚îÄ‚îÄ S√≠labas directas (ma, pa, sa, la, ta)
‚îÇ   ‚îî‚îÄ‚îÄ Palabras de alta frecuencia
‚îÇ
‚îú‚îÄ‚îÄ Vocabulario
‚îÇ   ‚îî‚îÄ‚îÄ Palabras del entorno escolar y hogar
‚îÇ
‚îî‚îÄ‚îÄ Fluidez
    ‚îî‚îÄ‚îÄ 30-40 palabras por minuto

Trimestre 3 (Febrero-Mayo):
‚îú‚îÄ‚îÄ Fon√©tica
‚îÇ   ‚îú‚îÄ‚îÄ S√≠labas inversas y mixtas
‚îÇ   ‚îî‚îÄ‚îÄ D√≠grafos (ch, ll, rr)
‚îÇ
‚îú‚îÄ‚îÄ Vocabulario
‚îÇ   ‚îú‚îÄ‚îÄ Profesiones
‚îÇ   ‚îî‚îÄ‚îÄ La naturaleza de Puerto Rico
‚îÇ
‚îú‚îÄ‚îÄ Comprensi√≥n
‚îÇ   ‚îî‚îÄ‚îÄ Textos cortos sobre Puerto Rico
‚îÇ
‚îî‚îÄ‚îÄ Fluidez
    ‚îî‚îÄ‚îÄ 40-60 palabras por minuto
```

### 8.3 Success Metrics by Activity Type

| Activity Type | Success Threshold | Assessment Method |
|--------------|-------------------|-------------------|
| Conciencia Fon√©mica | ‚â•80% accuracy | Identificaci√≥n correcta de sonidos |
| Segmentaci√≥n Sil√°bica | ‚â•80% accuracy | N√∫mero correcto de s√≠labas |
| Rimas | ‚â•75% accuracy | Pares correctos identificados |
| Vocales | ‚â•90% accuracy | Reconocimiento de vocales |
| Fluidez Lectora | WPM en rango | Palabras por minuto sin errores |
| Vocabulario | ‚â•80% comprehension | Uso contextual correcto |
| Comprensi√≥n | ‚â•75% accuracy | Respuestas correctas a preguntas |

## 9. Quick Testing Checklist

### Before POC Demo
- [ ] Template dropdown works with 6 Ani-based templates
- [ ] Coqu√≠ dialogue saves with Puerto Rican cultural references
- [ ] OpenAI reads sections following Ani progression
- [ ] Pronunciation scoring returns 1-5 stars per rubric
- [ ] Results save to database with success metrics
- [ ] CoquiMascot appears with culturally relevant animations
- [ ] Assessment follows Trimestre progression
- [ ] Success thresholds match Ani specifications

---

## 10. Summary of Changes - Aligned with Ani Espa√±ol Curriculum

### What We're Adding (Generic + Ani Espa√±ol Curriculum)
1. **4 database columns** (template, dialogue, words, attempts)
2. **1 tracking table** (voice_assessment_results with success metrics)
3. **3 form fields** (template dropdown, Coqu√≠ dialogue, pronunciation words)
4. **12 activity templates total**:

   **Generic Templates (5)** - Flexible for teachers to customize:
   - Coqu√≠ escucha y habla (Listen and speak)
   - Coqu√≠ encuentra el sonido (Find the sound)
   - Coqu√≠ une los sonidos (Connect sounds)
   - Rima con Coqu√≠ (Rhyming)
   - Las vocales de Coqu√≠ (Vowels)

   **Curriculum-Based Templates (7)** - Pre-filled with Ani Espa√±ol content:
   - Conciencia Fon√©mica con Coqu√≠ (Initial sounds, syllable segmentation)
   - Fon√©tica - Las Vocales de Coqu√≠ (Vowel recognition with PR vocabulary)
   - Rimas con Coqu√≠ (Rhyming with Puerto Rican words)
   - Fluidez Lectora con Coqu√≠ (Reading fluency with WPM targets)
   - Vocabulario - Profesiones de Puerto Rico (Contextual vocabulary)
   - Comprensi√≥n - Ciclo de Vida del Coqu√≠ (Reading comprehension)

5. **Research-based scoring rubric** (1-5 stars with specific criteria)
6. **Trimester progression path** (Following Ani's scope and sequence)
7. **Success thresholds** per activity type (75%-90% based on skill)

### What We're NOT Adding (Too Complex)
- ‚ùå Reference audio storage
- ‚ùå Complex drag-and-drop
- ‚ùå Visual flow designers
- ‚ùå Custom animations
- ‚ùå Multi-step workflows
- ‚ùå Complex tracking

### Using What We Have
- ‚úÖ Existing CoquiMascot component
- ‚úÖ Existing ImagePasteZone
- ‚úÖ Existing OpenAI integration
- ‚úÖ Existing voice_guidance field (repurposed)
- ‚úÖ Simple CSS for animations

---

## 11. Puerto Rican Cultural Integration (From Ani Espa√±ol)

### Cultural Vocabulary and References Used Throughout:

**Flora y Fauna de Puerto Rico:**
- coqu√≠ (our mascot and endemic frog)
- cotorra (Puerto Rican parrot)
- manat√≠ (manatee from our waters)
- flamboy√°n (flame tree)
- ceiba (national tree)

**Lugares Emblem√°ticos:**
- El Yunque (rainforest)
- Cabo Rojo (beaches)
- San Juan (capital)
- Ponce (La Perla del Sur)
- Rinc√≥n (surfing capital)

**Comida T√≠pica:**
- pl√°tano (plantain)
- mang√≥ (mango)
- arroz con habichuelas (rice and beans)
- yaut√≠a (taro root)

**Tradiciones y Cultura:**
- vejigantes (carnival masks)
- cuatro (traditional instrument)
- bomba y plena (traditional music)

### Implementation Note:
All these cultural elements are woven into the activity templates, making learning relevant and engaging for Puerto Rican students while maintaining their cultural identity.

## Conclusion

This updated plan integrates the comprehensive Ani Espa√±ol Primer Grado curriculum into the Coqu√≠-themed content creation system. The approach:

1. **Follows research-based progression**: Conciencia Fon√©mica ‚Üí Fon√©tica ‚Üí Fluidez ‚Üí Vocabulario ‚Üí Comprensi√≥n
2. **Uses authentic Puerto Rican content**: Local vocabulary, places, and cultural references
3. **Implements clear success metrics**: 75%-90% thresholds based on skill type
4. **Provides adaptive support**: 1-3 attempts based on performance
5. **Maintains simplicity**: Still implementable in 2-3 hours using existing components

OpenAI handles all pronunciation evaluation autonomously using the provided rubric, teachers get curriculum-aligned templates that auto-fill with culturally relevant content, and students learn with Coqu√≠ using vocabulary and references from their own island culture.